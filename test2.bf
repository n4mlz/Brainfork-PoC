; デッドロックを意図的に発生させ得るコード

[-]        ; cell0 = 0
>[-]       ; cell1 = 0
<        ; dp = cell0

{
  (              ; Thread-A: lock cell0
    ~~~          ; 0.3s 待っている間に Thread-B が cell1 を掴む
    > (          ; lock cell1  ← ここで循環待ちが完成しデッドロック
      ; PRINT 'A'（到達しない）
      +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.
  )              ; （到達しない）
|
  > (            ; Thread-B: lock cell1
    ~~~          ; 0.3s 待っている間に Thread-A が cell0 を掴む
    < (          ; lock cell0  ← デッドロック成立
      ; PRINT 'B' （到達しない）
      ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++.
  )              ; （到達しない）
}
